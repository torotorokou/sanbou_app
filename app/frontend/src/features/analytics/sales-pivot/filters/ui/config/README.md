# FilterPanel ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®šç®¡ç†

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
config/
  â””â”€â”€ layout.config.ts    # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®šæ•°ã®ä¸€å…ƒç®¡ç†
hooks/
  â””â”€â”€ useFilterLayout.ts  # ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ¤å®šã¨ã‚°ãƒªãƒƒãƒ‰è¨­å®šã®é¸æŠ
```

## ğŸ¯ è¨­è¨ˆæ€æƒ³

### é–¢å¿ƒã®åˆ†é›¢ï¼ˆSeparation of Concernsï¼‰

1. **è¨­å®šï¼ˆWhatï¼‰**: `layout.config.ts`
   - ã‚°ãƒªãƒƒãƒ‰è¨­å®šå€¤
   - ãƒãƒ¼ã‚¸ãƒ³ãƒ»ã‚®ãƒ£ãƒƒãƒ—å®šæ•°
   - ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå®šç¾©

2. **ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆHowï¼‰**: `useFilterLayout.ts`
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ¤å®š
   - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/ãƒ¢ãƒã‚¤ãƒ«è¨­å®šã®é¸æŠ

3. **åˆ©ç”¨ï¼ˆUseï¼‰**: `FilterPanel.tsx`
   - ãƒ•ãƒƒã‚¯ã‚’å‘¼ã³å‡ºã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®šã‚’å–å¾—
   - è¨­å®šã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é©ç”¨

### ä¿å®ˆæ€§ã®é«˜ã„è¨­è¨ˆ

```typescript
// âŒ ä»¥å‰ï¼ˆä¿å®ˆæ€§ãŒä½ã„ï¼‰
const modeGrid = {
  xs: 24,
  md: isDesktop ? 24 : 8,  // æ¡ä»¶ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
  xl: 5,
};

// âœ… ç¾åœ¨ï¼ˆä¿å®ˆæ€§ãŒé«˜ã„ï¼‰
// layout.config.ts
export const FILTER_GRID = {
  modeDesktop: { xs: 24, md: 24, xl: 5 },
  modeMobile: { xs: 24, md: 8, xl: 5 },
};

// useFilterLayout.ts
modeGrid: isDesktop ? FILTER_GRID.modeDesktop : FILTER_GRID.modeMobile
```

## ğŸ“– ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹

```typescript
import { useFilterLayout } from './hooks/useFilterLayout';
import { GRID_GUTTER, MARGINS } from './config/layout.config';

export const FilterPanel: React.FC<FilterPanelProps> = (props) => {
  const layout = useFilterLayout();

  return (
    <Card>
      <Row gutter={[GRID_GUTTER.horizontal, GRID_GUTTER.vertical]}>
        <Col {...layout.categoryGrid}>
          <CategorySelector />
        </Col>
        
        {layout.isDesktop && (
          <Col {...layout.modeGrid}>
            <ModeSelector />
          </Col>
        )}
      </Row>
      
      {!layout.isDesktop && (
        <Row style={{ marginTop: MARGINS.sectionTop }}>
          <Col {...layout.modeGrid}>
            <ModeSelector />
          </Col>
        </Row>
      )}
    </Card>
  );
};
```

## ğŸ”§ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´æ‰‹é †

### ã‚±ãƒ¼ã‚¹1: ã‚°ãƒªãƒƒãƒ‰å¹…ã‚’å¤‰æ›´ã—ãŸã„

**ä¾‹ï¼šç¨®åˆ¥ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã®å¹…ã‚’ xl: 5 â†’ xl: 6 ã«å¤‰æ›´**

```typescript
// layout.config.ts ã®ã¿å¤‰æ›´
export const FILTER_GRID = {
  category: {
    xs: 24,
    md: 24,
    xl: 6,  // â† ã“ã“ã ã‘å¤‰æ›´
  },
  // ...
};
```

**å½±éŸ¿ç¯„å›²:** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼ˆ1ç®‡æ‰€ï¼‰

---

### ã‚±ãƒ¼ã‚¹2: ãƒãƒ¼ã‚¸ãƒ³ãƒ»ã‚®ãƒ£ãƒƒãƒ—ã‚’å¤‰æ›´ã—ãŸã„

```typescript
// layout.config.ts ã®ã¿å¤‰æ›´
export const GRID_GUTTER = {
  horizontal: 20,  // 16 â†’ 20
  vertical: 20,
};

export const MARGINS = {
  sectionTop: 24,  // 16 â†’ 24
  divider: '24px 0',
};
```

**å½±éŸ¿ç¯„å›²:** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼ˆ1ç®‡æ‰€ï¼‰

---

### ã‚±ãƒ¼ã‚¹3: æ–°ã—ã„ã‚°ãƒªãƒƒãƒ‰è¨­å®šã‚’è¿½åŠ ã—ãŸã„

```typescript
// 1. layout.config.ts ã«è¨­å®šè¿½åŠ 
export const FILTER_GRID = {
  // æ—¢å­˜ã®è¨­å®š...
  
  newElement: {
    xs: 24,
    md: 12,
    xl: 8,
  },
};

// 2. useFilterLayout.ts ã«è¿”ã‚Šå€¤è¿½åŠ 
export const useFilterLayout = () => {
  const { isDesktop } = useResponsive();

  return {
    // æ—¢å­˜ã®è¨­å®š...
    newElementGrid: FILTER_GRID.newElement,
  };
};

// 3. FilterPanel.tsx ã§ä½¿ç”¨
<Col {...layout.newElementGrid}>
  <NewElement />
</Col>
```

---

### ã‚±ãƒ¼ã‚¹4: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ†å²ã‚’è¿½åŠ ã—ãŸã„

```typescript
// 1. layout.config.ts ã«ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/ãƒ¢ãƒã‚¤ãƒ«è¨­å®šè¿½åŠ 
export const FILTER_GRID = {
  elementDesktop: { xs: 24, md: 24, xl: 8 },
  elementMobile: { xs: 24, md: 12, xl: 8 },
};

// 2. useFilterLayout.ts ã§æ¡ä»¶åˆ†å²è¿½åŠ 
elementGrid: isDesktop 
  ? FILTER_GRID.elementDesktop 
  : FILTER_GRID.elementMobile,
```

## ğŸ“Š ç¾åœ¨ã®ã‚°ãƒªãƒƒãƒ‰è¨­å®šä¸€è¦§

| è¦ç´  | ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—(xlâ‰¥1280px) | ãƒ¢ãƒã‚¤ãƒ«(xl<1280px) | å‚™è€ƒ |
|-----|----------------------|-------------------|-----|
| **ç¨®åˆ¥** | xl: 5 (20.8%) | xl: 5 (20.8%) | 1è¡Œç›® |
| **ãƒ¢ãƒ¼ãƒ‰** | xl: 5 (20.8%) | md: 8 (33.3%) | ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¯1è¡Œç›®ã€ãƒ¢ãƒã‚¤ãƒ«ã¯2è¡Œç›® |
| **TopN/ã‚½ãƒ¼ãƒˆ** | xl: 14 (58.3%) | md: 16 (66.7%) | ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¯1è¡Œç›®ã€ãƒ¢ãƒã‚¤ãƒ«ã¯2è¡Œç›® |
| **æœŸé–“** | å…¨å¹… | å…¨å¹… | å¸¸ã«ç‹¬ç«‹è¡Œ |
| **å–¶æ¥­** | md: 18 (75%) | md: 18 (75%) | åŒä¸€è¡Œ |
| **çµã‚Šè¾¼ã¿** | md: 6 (25%) | md: 6 (25%) | å–¶æ¥­ã¨åŒã˜è¡Œ |

## ğŸ¨ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆxl â‰¥ 1280pxï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ç¨®åˆ¥ 20%] [ãƒ¢ãƒ¼ãƒ‰ 20%] [TopNãƒ»ã‚½ãƒ¼ãƒˆ 58%]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æœŸé–“é¸æŠ 100%]                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å–¶æ¥­ 75%] [çµã‚Šè¾¼ã¿ 25%]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆxl < 1280pxï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ç¨®åˆ¥ 100%]                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ãƒ¢ãƒ¼ãƒ‰ 33%] [TopNãƒ»ã‚½ãƒ¼ãƒˆ 67%]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æœŸé–“é¸æŠ 100%]                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å–¶æ¥­ 75%] [çµã‚Šè¾¼ã¿ 25%]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… ãƒ¡ãƒªãƒƒãƒˆ

1. **ä¿å®ˆæ€§**
   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«1ç®‡æ‰€ã®ã¿
   - å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ãŒæ˜ç¢º

2. **å¯èª­æ€§**
   - è¨­å®šã¨ãƒ­ã‚¸ãƒƒã‚¯ãŒåˆ†é›¢
   - è¨­å®šå€¤ã«è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆä»˜ã

3. **å‹å®‰å…¨æ€§**
   - `as const` ã«ã‚ˆã‚‹å‹æ¨è«–
   - `GridConfig` å‹ã§å‹ãƒã‚§ãƒƒã‚¯

4. **å†åˆ©ç”¨æ€§**
   - è¨­å®šã‚’ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚‚åˆ©ç”¨å¯èƒ½
   - ãƒ•ãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ‹¡å¼µãŒå®¹æ˜“

5. **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**
   - è¨­å®šã¨ãƒ­ã‚¸ãƒƒã‚¯ãŒç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
   - ãƒ¢ãƒƒã‚¯ãŒå®¹æ˜“
