# ==============================================================================
# secrets/.env.secrets.template
# DB ユーザー・パスワード管理用テンプレート
# ==============================================================================
#
# このファイルはGit管理されています。実際のパスワードは書き込まないでください。
#
# 【使い方】
# 1. このファイルを環境別にコピー:
#    cp secrets/.env.secrets.template secrets/.env.local_dev.secrets
#    cp secrets/.env.secrets.template secrets/.env.local_stg.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_stg.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_prod.secrets
#
# 2. 強力なパスワードを生成:
#    openssl rand -base64 32
#
# 3. 各ファイルのプレースホルダを実際の値に置き換える
#
# 【重要】
# - secrets/ ディレクトリは .gitignore で除外されています
# - 本番・ステージング環境のパスワードは 1Password 等に必ずバックアップ
# - 環境ごとに異なるパスワードを使用してください
#
# ==============================================================================

# === DB 接続設定 ===
# 注意: パスワードが含まれるため、このファイルは必ず .gitignore に含めてください
# 
# 【重要】DATABASE_URL は自動生成されます:
#   - POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_HOST, POSTGRES_PORT, POSTGRES_DB から構築
#   - パスワードは自動的にURLエンコードされるため、特殊文字（/ @ : など）を含んでもOK
#   - backend_shared.infra.db.build_database_url() により安全に構築されます
POSTGRES_USER=sanbou_app_dev
POSTGRES_PASSWORD=<STRONG_PASSWORD_HERE>

# === API Keys ===
GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>

# === ledger_api Report Artifact Secret ===
# PDF生成用のシークレットキー（本番では強力なランダム文字列を使用すること）
REPORT_ARTIFACT_SECRET=<YOUR_SECRET_KEY_HERE>

# ==============================================================================
# 参考資料
# ==============================================================================
# - DB ユーザー設計: docs/db/20251204_db_user_design.md
# - 移行手順: docs/db/20251204_db_user_migration_plan.md
# - SQL スクリプト: scripts/sql/20251204_create_app_db_users.sql
