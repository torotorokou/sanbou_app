# ==============================================================================
# secrets/.env.secrets.template
# DB ユーザー・パスワード管理用テンプレート
# ==============================================================================
#
# このファイルはGit管理されています。実際のパスワードは書き込まないでください。
#
# 【使い方】
# 1. このファイルを環境別にコピー:
#    cp secrets/.env.secrets.template secrets/.env.local_dev.secrets
#    cp secrets/.env.secrets.template secrets/.env.local_stg.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_stg.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_prod.secrets
#
# 2. 強力なパスワードを生成:
#    openssl rand -base64 32
#
# 3. 各ファイルのプレースホルダを実際の値に置き換える
#
# 【重要】
# - secrets/ ディレクトリは .gitignore で除外されています
# - 本番・ステージング環境のパスワードは 1Password 等に必ずバックアップ
# - 環境ごとに異なるパスワードを使用してください
#
# ==============================================================================

# === DB 接続設定 ===
# 環境別の専用ユーザーを使用してください:
# - 開発: sanbou_app_dev
# - ステージング: sanbou_app_stg
# - 本番: sanbou_app_prod
#
# ユーザー作成は scripts/sql/20251204_create_app_db_users.sql を参照

# DB ユーザー名（環境別に変更）
POSTGRES_USER=sanbou_app_dev

# DB パスワード（openssl rand -base64 32 で生成）
POSTGRES_PASSWORD=<STRONG_PASSWORD_HERE>

# DATABASE_URL（環境に合わせて調整）
# 開発: postgresql://sanbou_app_dev:<PASSWORD>@db:5432/sanbou_dev
# ステージング: postgresql://sanbou_app_stg:<PASSWORD>@db:5432/sanbou_stg
# 本番: postgresql://sanbou_app_prod:<PASSWORD>@db:5432/sanbou_prod
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/sanbou_dev

# === API Keys ===
# 実際の API キーを設定してください

OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>
GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>

# ==============================================================================
# 参考資料
# ==============================================================================
# - DB ユーザー設計: docs/db/20251204_db_user_design.md
# - 移行手順: docs/db/20251204_db_user_migration_plan.md
# - SQL スクリプト: scripts/sql/20251204_create_app_db_users.sql
