# ==============================================================================
# secrets/.env.secrets.template
# シークレット情報管理用テンプレート
# ==============================================================================
#
# このファイルはGit管理されています。実際のパスワードは書き込まないでください。
#
# 【使い方】
# 1. このファイルを環境別にコピー:
#    cp secrets/.env.secrets.template secrets/.env.local_dev.secrets
#    cp secrets/.env.secrets.template secrets/.env.local_demo.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_stg.secrets
#    cp secrets/.env.secrets.template secrets/.env.vm_prod.secrets
#
# 2. 強力なパスワードを生成:
#    openssl rand -base64 32
#
# 3. 各ファイルのプレースホルダを実際の値に置き換える
#
# 【重要】
# - secrets/ ディレクトリのファイルは .gitignore で除外されています
# - 本番・ステージング環境のパスワードは 1Password 等に必ずバックアップ
# - 環境ごとに異なるパスワードを使用してください
#
# ==============================================================================

# ==============================================================================
# Database Configuration
# ==============================================================================
# 注意: パスワードのみを secrets ファイルに記載してください
#
# 【重要】DATABASE_URL は自動生成されます:
#   - POSTGRES_USER, POSTGRES_DB は env/.env.<env> ファイルに記載
#   - POSTGRES_PASSWORD のみ secrets ファイルに記載（機密情報）
#   - パスワードは自動的にURLエンコードされるため、特殊文字（/ @ : など）を含んでもOK
#   - backend_shared.infra.db.build_database_url() により安全に構築されます
POSTGRES_PASSWORD=<STRONG_PASSWORD_HERE>

# ==============================================================================
# API Keys
# ==============================================================================
# 実際の値は各環境の secrets ファイルに記載してください
GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>

# ==============================================================================
# ledger_api Report Artifact Secret
# ==============================================================================
# PDF生成用のシークレットキー（本番では強力なランダム文字列を使用すること）
# 生成方法: openssl rand -base64 32
REPORT_ARTIFACT_SECRET=<YOUR_SECRET_KEY_HERE>

# ==============================================================================
# Authentication Settings (環境別設定)
# ==============================================================================

# ------------------------------------------------------------------------------
# 開発環境（local_dev, local_demo）: AUTH_MODE=dummy
# ------------------------------------------------------------------------------
DEV_USER_EMAIL=dev-user@honest-recycle.co.jp
DEV_USER_NAME=開発ユーザー
DEV_USER_ID=dev_001
DEV_USER_ROLE=admin

# ------------------------------------------------------------------------------
# VPN 環境（vm_stg）: AUTH_MODE=vpn_dummy
# ------------------------------------------------------------------------------
# 注意: VPN_USER_EMAIL は必須です（secrets/.env.vm_stg.secrets に設定）
VPN_USER_EMAIL=<STG_ADMIN_EMAIL>
VPN_USER_NAME=<STG_ADMIN_NAME>
VPN_USER_ID=vpn_001

# ------------------------------------------------------------------------------
# IAP 環境（vm_prod）: AUTH_MODE=iap
# ------------------------------------------------------------------------------
# IAP_AUDIENCE は必須です（secrets/.env.vm_prod.secrets に設定）
# 形式: /projects/PROJECT_NUMBER/global/backendServices/SERVICE_ID
IAP_AUDIENCE=<IAP_AUDIENCE_VALUE>

# ==============================================================================
# 参考資料
# ==============================================================================
# - DB ユーザー設計: docs/db/20251204_db_user_design.md
# - 移行手順: docs/db/20251204_db_user_migration_plan.md
# - SQL スクリプト: scripts/sql/20251204_create_app_db_users.sql
# - 認証設計: docs/refactoring/STEP3_auth_provider_documentation.md
