# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªçµ±åˆãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ¬ãƒãƒ¼ãƒˆ

## å®Ÿæ–½æ—¥æ™‚

2025å¹´10æœˆ6æ—¥

---

## ğŸ¯ ç›®çš„

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®é‡è¤‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’çµ±åˆã—ã€ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹ã€‚

---

## ğŸ“Š å®Ÿæ–½å†…å®¹

### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼šé‡è¤‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çµ±åˆ

#### `features/manual` ã¨ `features/manuals` ã®çµ±åˆ

**çµ±åˆå‰ã®çŠ¶æ…‹**:

```
features/
â”œâ”€â”€ manual/              # å®Œå…¨ãªå®Ÿè£…ã‚ã‚Š
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ model/
â”‚   â””â”€â”€ ui/
â””â”€â”€ manuals/            # ç©ºã®READMEã®ã¿
    â”œâ”€â”€ controller/README.md
    â”œâ”€â”€ model/README.md
    â””â”€â”€ view/README.md
```

**çµ±åˆå¾Œã®çŠ¶æ…‹**:

```
features/
â””â”€â”€ manual/             # çµ±åˆå®Œäº†
    â”œâ”€â”€ api/
    â”œâ”€â”€ model/
    â”‚   â””â”€â”€ manuals.store.ts
    â””â”€â”€ index.ts
```

**å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«**:

- `app/frontend/src/features/manuals/controller/README.md`
- `app/frontend/src/features/manuals/model/README.md`
- `app/frontend/src/features/manuals/view/README.md`
- `app/frontend/src/features/manuals/index.ts`

**ç†ç”±**:

- `features/manual` ã¯å®Œå…¨ãªå®Ÿè£…ï¼ˆAPIã€å‹å®šç¾©ã€ã‚¹ãƒˆã‚¢ï¼‰ã‚’æŒã¤
- `features/manuals` ã¯ç©ºã®READMEã®ã¿ã§å®Ÿè£…ãŒãªã‹ã£ãŸ
- `manuals.store.ts` ã¯æ—¢ã« `features/manual/model/` ã«ã‚³ãƒ”ãƒ¼æ¸ˆã¿

---

#### `app/router` ã¨ `app/routes` ã®çµ±åˆ

**çµ±åˆå‰ã®çŠ¶æ…‹**:

```
app/
â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ routes.ts       # ãƒ«ãƒ¼ãƒˆå®šæ•°ã®ã¿
â”‚   â””â”€â”€ README.md
â””â”€â”€ routes/
    â””â”€â”€ AppRoutes.tsx   # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```

**çµ±åˆå¾Œã®çŠ¶æ…‹**:

```
app/
â””â”€â”€ routes/
    â”œâ”€â”€ routes.ts       # ç§»å‹•å®Œäº†
    â””â”€â”€ AppRoutes.tsx
```

**æ›´æ–°ã•ã‚ŒãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆ**:

- `app/routes/AppRoutes.tsx`: `@app/router/routes` â†’ `./routes`
- `app/navigation/sidebarMenu.tsx`: `@app/router/routes` â†’ `@app/routes/routes`
- `pages/home/PortalPage.tsx`: `@app/router/routes` â†’ `@app/routes/routes`

**å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«**:

- `app/frontend/src/app/router/README.md`
- `app/frontend/src/app/router/routes.ts` (â†’ `app/routes/` ã«ç§»å‹•)

**ç†ç”±**:

- `routes` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å®Ÿéš›ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹
- ãƒ«ãƒ¼ãƒˆå®šæ•°ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒã˜å ´æ‰€ã«é…ç½®ã™ã‚‹æ–¹ãŒè‡ªç„¶
- ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹

---

### 2. ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤

#### ç©ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

- `app/frontend/src/features/manual/ui` ï¼ˆç©ºï¼‰

#### ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«

- `app/frontend/eslint-report.json` ï¼ˆ52KBã€ESLintã®å®Ÿè¡Œçµæœï¼‰

---

### 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼šå£Šã‚ŒãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆã®ä¿®æ­£

#### `app/backend/sql_api/app/api/api_router.py`

**ä¿®æ­£å‰**:

```python
from __archive__ import ukeire_api, vendors  # __archive__ã¯å­˜åœ¨ã—ãªã„
from app.api.endpoints import upload_api     # upload_apiã¯å­˜åœ¨ã—ãªã„
```

**ä¿®æ­£å¾Œ**:

```python
# from __archive__ import ukeire_api, vendors  # REMOVED: __archive__ directory no longer exists
from app.api.endpoints import syogun_csv_upload
# api_router.include_router(vendors.router, ...)  # ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
# api_router.include_router(ukeire_api.router, ...)  # ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
api_router.include_router(syogun_csv_upload.router, prefix=UPLOAD_PREFIX, tags=["upload"])
```

**ç†ç”±**:

- `__archive__` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯æ—¢ã«å‰Šé™¤æ¸ˆã¿ï¼ˆPhase 4ä»¥å‰ï¼‰
- `upload_api` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å­˜åœ¨ã›ãšã€æ­£ã—ãã¯ `syogun_csv_upload`
- å£Šã‚ŒãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦å®Ÿéš›ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨

---

## âœ… æ¤œè¨¼çµæœ

### TypeScriptãƒ“ãƒ«ãƒ‰

```bash
cd app/frontend && npm run typecheck
âœ… æˆåŠŸ - ã‚¨ãƒ©ãƒ¼0ä»¶
```

### Viteãƒ“ãƒ«ãƒ‰

```bash
cd app/frontend && npm run build
âœ… æˆåŠŸ - 8.88ç§’ã§ãƒ“ãƒ«ãƒ‰å®Œäº†
```

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‚ç…§

```bash
grep -r "@app/router" src/
âœ… 0ä»¶ - å…¨ã¦ @app/routes ã«æ›´æ–°æ¸ˆã¿
```

---

## ğŸ“ˆ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®åŠ¹æœ

### 1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ç°¡ç´ åŒ–

- **å‰Šé™¤ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: 2ã¤ (`app/router`, `features/manuals`)
- **çµ±åˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: 2çµ„
- **å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«**: 6å€‹ï¼ˆREADME x 3ã€ç©ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª x 1ã€ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ« x 1ã€ãã®ä»– x 1ï¼‰

### 2. ä¿å®ˆæ€§ã®å‘ä¸Š

- **é‡è¤‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ’é™¤**: é–‹ç™ºè€…ãŒè¿·ã‚ãªã„
- **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®æ˜ç¢ºåŒ–**: `@app/routes` ã«çµ±ä¸€
- **å£Šã‚ŒãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆã®ä¿®æ­£**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒæ­£å¸¸ã«å‹•ä½œ

### 3. é–‹ç™ºè€…ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹

- **æ¤œç´¢çµæœã®ãƒã‚¤ã‚ºå‰Šæ¸›**: ç©ºã®READMEãŒæ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãªã„
- **IDEè£œå®Œã®æ”¹å–„**: é‡è¤‡ã—ãŸé¸æŠè‚¢ãŒãªã„
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼åŠ¹ç‡åŒ–**: æ§‹é€ ãŒæ˜ç¢º

---

## ğŸ”’ Gitå±¥æ­´

### ã‚³ãƒŸãƒƒãƒˆæƒ…å ±

```
chore: é‡è¤‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’çµ±åˆã—ã¦ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤

## çµ±åˆã¨å‰Šé™¤
- features/manual ã¨ features/manuals ã‚’çµ±åˆ
- app/router ã¨ app/routes ã‚’çµ±åˆ
- ç©ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å£Šã‚ŒãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ä¿®æ­£

## æ¤œè¨¼çµæœ
âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯æˆåŠŸ
âœ… Viteãƒ“ãƒ«ãƒ‰æˆåŠŸ (8.88s)
```

---

## ğŸ“ çµ±åˆå‰å¾Œã®æ¯”è¼ƒ

### features/manual vs features/manuals

| é …ç›®     | features/manual       | features/manuals      |
| -------- | --------------------- | --------------------- |
| APIå®Ÿè£…  | âœ… `manualsApi.ts`    | âŒ ãªã—               |
| å‹å®šç¾©   | âœ… `manual.types.ts`  | âŒ ãªã—               |
| ã‚¹ãƒˆã‚¢   | âœ… `manuals.store.ts` | âœ… `manuals.store.ts` |
| UI       | ï¼ˆäºˆå®šåœ°ï¼‰            | âŒ ãªã—               |
| å…¬é–‹API  | âœ… `index.ts`         | âœ… `index.ts`         |
| **åˆ¤å®š** | **å®Œå…¨ãªå®Ÿè£…**        | **READMEã®ã¿**        |

**çµè«–**: `features/manual` ã‚’ä¿æŒã€`features/manuals` ã‚’å‰Šé™¤

---

### app/router vs app/routes

| é …ç›®         | app/router     | app/routes         |
| ------------ | -------------- | ------------------ |
| ãƒ«ãƒ¼ãƒˆå®šæ•°   | âœ… `routes.ts` | âŒ ãªã— â†’ ç§»å‹•     |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | âŒ ãªã—        | âœ… `AppRoutes.tsx` |
| README       | âœ… `README.md` | âŒ ãªã—            |
| **åˆ¤å®š**     | **å®šæ•°ã®ã¿**   | **å®Ÿè£…ã‚ã‚Š**       |

**çµè«–**: `routes.ts` ã‚’ `app/routes` ã«ç§»å‹•ã€`app/router` ã‚’å‰Šé™¤

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] é‡è¤‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çµ±åˆ (2çµ„)
- [x] ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ (6å€‹)
- [x] ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‚ç…§ã®æ›´æ–° (3ç®‡æ‰€)
- [x] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ä¿®æ­£ (1ç®‡æ‰€)
- [x] TypeScriptå‹ãƒã‚§ãƒƒã‚¯
- [x] Viteãƒ“ãƒ«ãƒ‰ç¢ºèª
- [x] Git ã‚³ãƒŸãƒƒãƒˆ

### ä»Šå¾Œã®æ¨å¥¨äº‹é …

1. **å®šæœŸçš„ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: å››åŠæœŸã”ã¨ã«ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
2. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‘½åè¦å‰‡**: æ–°è¦ä½œæˆæ™‚ã«é‡è¤‡ã‚’é¿ã‘ã‚‹
3. **READMEé‹ç”¨**: ç©ºã®READMEã¯ä½œæˆã›ãšã€å®Ÿè£…ã¨åŒæ™‚ã«ä½œæˆ
4. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®çµ±ä¸€**: tsconfig.json ã® paths è¨­å®šã‚’æ´»ç”¨

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `CLEANUP_REPORT.md` - Phase 4å‰ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆ`__archive__` å‰Šé™¤ï¼‰
- `ARCHITECTURE.md` - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“åƒ
- `MIGRATION_STATUS.md` - FSDç§»è¡Œé€²æ—

---

**ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ—¥**: 2025å¹´10æœˆ6æ—¥  
**å®Ÿæ–½è€…**: Sanbou App Team  
**ãƒ–ãƒ©ãƒ³ãƒ**: phase10/final-cleanup
